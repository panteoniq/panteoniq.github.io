<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="[스레드 풀/Thread Pool] 스레드 풀의 적정 크기는? / 스레드 풀의 적절한 사이즈는" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="스레드 풀의 적정 사이즈는 어느 정도일까요? 1개? 2개? 또는 최대한 많이? 적절한 답을 찾지 못해 구글링하던 도중 이에 대해 잘 정리된 글을 읽고 번역해보았습니다. 다소 부족한 부분이 있더라도 양해 부탁드리며, 원문을 보고 싶으시다면 다음을 참고 바랍니다." /><meta property="og:description" content="스레드 풀의 적정 사이즈는 어느 정도일까요? 1개? 2개? 또는 최대한 많이? 적절한 답을 찾지 못해 구글링하던 도중 이에 대해 잘 정리된 글을 읽고 번역해보았습니다. 다소 부족한 부분이 있더라도 양해 부탁드리며, 원문을 보고 싶으시다면 다음을 참고 바랍니다." /><link rel="canonical" href="https://panteoniq.github.io/posts/%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80%EC%9D%98_%EC%A0%81%EC%A0%95%EC%82%AC%EC%9D%B4%EC%A6%88/" /><meta property="og:url" content="https://panteoniq.github.io/posts/%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80%EC%9D%98_%EC%A0%81%EC%A0%95%EC%82%AC%EC%9D%B4%EC%A6%88/" /><meta property="og:site_name" content="시 쓰는 개발자" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-11-10T21:04:10+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[스레드 풀/Thread Pool] 스레드 풀의 적정 크기는? / 스레드 풀의 적절한 사이즈는" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-11-10T21:18:25+09:00","datePublished":"2022-11-10T21:04:10+09:00","description":"스레드 풀의 적정 사이즈는 어느 정도일까요? 1개? 2개? 또는 최대한 많이? 적절한 답을 찾지 못해 구글링하던 도중 이에 대해 잘 정리된 글을 읽고 번역해보았습니다. 다소 부족한 부분이 있더라도 양해 부탁드리며, 원문을 보고 싶으시다면 다음을 참고 바랍니다.","headline":"[스레드 풀/Thread Pool] 스레드 풀의 적정 크기는? / 스레드 풀의 적절한 사이즈는","mainEntityOfPage":{"@type":"WebPage","@id":"https://panteoniq.github.io/posts/%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80%EC%9D%98_%EC%A0%81%EC%A0%95%EC%82%AC%EC%9D%B4%EC%A6%88/"},"url":"https://panteoniq.github.io/posts/%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80%EC%9D%98_%EC%A0%81%EC%A0%95%EC%82%AC%EC%9D%B4%EC%A6%88/"}</script><title>[스레드 풀/Thread Pool] 스레드 풀의 적정 크기는? / 스레드 풀의 적절한 사이즈는 | 시 쓰는 개발자</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="시 쓰는 개발자"><meta name="application-name" content="시 쓰는 개발자"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/cotes2020/chirpy-images/main/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">시 쓰는 개발자</a></div><div class="site-subtitle font-italic">오늘도 코드를 깎습니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/panteoniq" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['wjdeogks18','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>[스레드 풀/Thread Pool] 스레드 풀의 적정 크기는? / 스레드 풀의 적절한 사이즈는</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4 pb-5"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>[스레드 풀/Thread Pool] 스레드 풀의 적정 크기는? / 스레드 풀의 적절한 사이즈는</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1668081850" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-11-10 </em> </span> <span> 업데이트 <em class="" data-ts="1668082705" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-11-10 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/panteoniq">Danny</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2293 단어"> <em>12 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>스레드 풀의 적정 사이즈는 어느 정도일까요? 1개? 2개? 또는 최대한 많이? 적절한 답을 찾지 못해 구글링하던 도중 이에 대해 잘 정리된 글을 읽고 번역해보았습니다. 다소 부족한 부분이 있더라도 양해 부탁드리며, 원문을 보고 싶으시다면 다음을 참고 바랍니다.</p><p>원문 : <strong>https://jobs.zalando.com/tech/blog/how-to-set-an-ideal-thread-pool-size/?gh_src=4n3gxh1</strong></p><hr /><p>자바에서 스레드를 생성하는 것은 공짜가 아니다! 실제 오버헤드는 플랫폼마다 다르겠지만, 스레드가 생성될 때는 요청이 처리되는 지연 시간이 발생하고 JVM과 OS에 의한 추가적인 처리 과정이 필요하다. 그렇기 때문에 스레드 풀이 필요하다. 스레드 풀은 현재의 작업을 수행하기 위해 이전에 생성된 스레드 풀을 재사용함으로써 사이클 오버헤드 및 자원 낭비를 막을 수 있다.</p><p><em>(역주 - 자원 낭비(problem of resource thrashing) - thrashing은 CPU가 작업 수행 시간보다 페이징 교체에 더 많은 시간을 소모하는 것을 의미. 즉 page fault가 많은 상황에 발생)</em></p><p>이 글에서는 최적의 스레드 풀 사이즈에 대해 얘기하려고 한다. 잘 조정된 스레드 풀은 시스템의 최대치를 이끌어낼 수 있으며 최대치의 부하를 받을 때에도 올바르게 동작할 수 있다. 반면에 엉망인 스레드 풀을 사용할 경우, 스레드 풀이 있음에도 병목현상이 발생하거나 스레드 풀로 인해 프로그램이 죽을 수도 있다.</p><h4 id="스레드-풀에-제한을-걸어야-하는-이유는"><span class="mr-2"><strong>스레드 풀에 제한을 걸어야 하는 이유는?</strong></span><a href="#스레드-풀에-제한을-걸어야-하는-이유는" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>여기에 Executors.newChachedThread을 구현한 코드가 있다. 우리는 왜 다음 코드를 그냥 쓰면 안 될까?</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>/** 
Thread Pool constructor 
*/
public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue {
	...
} 

/** Cached Thread Pool */
public static ExecutorService newCachedThreadPool() {
	return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());
}
</pre></table></code></div></div><p>위 코드에서 스레드를 생성하는 데에 사용되는 SynchronousQueue는 풀 안에 있는 모든 스레드가 busy 상태일 경우 새로운 작업이 발생하면 새로운 스레드가 생성되는 것을 의미한다. 이는 자원의 추가 소모를 의미하고, 위 코드를 그대로 사용했을 때 만약 엄청나게 많은 요청이 발생한다면, 스레드가 계속 생성되다가 결국 OOM이 발생할 것이다.</p><p>즉 사용자 세션마다 스레드를 생성하게 된다면 DDoS와 동일한 문제가 발생하는 것이며, 서버는 이러한 상황이 발생하지 않도록 자원을 최대한 아껴야 한다.</p><h4 id="네-한계를-알라"><span class="mr-2"><strong>네 한계를 알라</strong></span><a href="#네-한계를-알라" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>첫번째로, 스레드 풀의 사이즈를 조정하기 전에 <strong>관련된 환경의 제약 사항</strong>을 확실히 이해해야만 한다. 이는 하드웨어만을 의미하는 것이 아니다.</p><ol><li>예를 들어 특정 스레드(worker)가 DB와 연관된 작업을 할 경우, 스레드 풀은 DB의 Connection Pool size에 영향을 받을 것이다.<ul><li>동시접속이 100개만 가능한 DB에 크기가 1000인 스레드 풀이 있다고 하면, 과연 스레드 풀은 효율적으로 동작할 수 있을까?</ul><li>한 스레드가 n개의 동시 요청을 처리할 수 있는 외부 서비스를 호출할 때, 스레드 풀의 크기는 이 ‘외부 서비스’의 성능에 따라 좌우된다.</ol><p>이는 당연하지만 우리가 종종 잊는 것이다.</p><p>두번째로, 스레드 풀에게 중요한 자원 중 하나는 <strong>CPU</strong>다. 우리는 CPU의 전체 개수를 다음과 같이 구할 수 있다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>(Java)
int numOfCores = Runtime.getRuntime().availableProcessors();

(C)
#include &lt;stdio.h&gt;
#include &lt;sys/sysinfo.h&gt;
printf("%d processors configured and %d processors available.\n", get_nprocs_conf(), get_nprocs()); 

(Python)
import multiprocessing
multiprocessing.cpu_count()
</pre></table></code></div></div><p>위 코드들은 우리가 이전부터 CPU의 개수를 구할 때 써온 방법이다. 하지만 Docker와 같은 컨테이너 환경에서 실행해야 하는 경우라면 이 명령어를 사용할 때 주의해야 한다. 명령어를 실행한 컨테이너가 아니라, 컨테이너들을 제어하는 부모 host의 하드웨어 환경을 볼 수도 있기 때문이다.</p><p>이와 관련된 기사 2개를 첨부하겠으니 읽어보길 바란다.</p><p>(https://mjg123.github.io/2018/01/10/Java-in-containers-jdk10.html)</p><p>(https://jaxenter.com/nobody-puts-java-container-139373.html)</p><p>세 번째로, <strong>메모리와 File handler, Socket Handler</strong> 역시 중요하게 고려되어야 한다. (File Descriptor는 linux 환경일 경우 기본적으로 1024개까지 open 가능하다)</p><h4 id="공식"><span class="mr-2"><strong>공식</strong></span><a href="#공식" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Brian Goetz의 유명한 책인 “Java Concurrency in Practice”에서는 다음 공식이 등장한다.</p><p><code class="language-plaintext highlighter-rouge">스레드 수 = 사용 가능한 코어 수 * (1+대기 시간/실제 수행시간)</code></p><p><em>(역주 - (대기 시간/서비스 시간)의 값은 block 계수라고도 한다.)</em></p><p>여기서 대기 시간은 작업 하나를 완료하기 위해 필요한 대기 시간, 즉 I/O waiting, 원격 서비스에 대한 HTTP response wating 등을 의미한다. 수행 시간은 대기 시간을 제외하고 작업이 실제로 동작 중인 시간, 즉 I/O waiting 이후 전달받은 데이터를 처리하는 과정을 의미한다.</p><p>이 경우 CPU를 많이 쓰는 계산 작업의 경우 대기를 거의 하지 않으므로 (대기 시간/서비스 시간)의 값이 0에 수렴하므로, 스레드 풀의 최대 수는 사용 가능한 코어의 수와 동일하다. 만약 모든 작업이 계산 작업이라면 이 정도면 충분하다. 그 이상은 불필요하다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>예) worker 스레드는 '요청에 대한 응답을 JSON으로 변환하고 몇 가지 규칙을 실행하는 'microservice’(이하 micro)' 를 호출한다. micro의 응답 시간은 50ms, 서비스 시간은 5ms이며 worker 스레드를 실행시키는 프로그램은 듀얼 코어 cpu에서 동작한다고 가정하자.
</pre></table></code></div></div><p>이때 적절한 스레드 풀 사이즈는</p><p><code class="language-plaintext highlighter-rouge">2 *(1+50/5) = 22</code>가 된다.</p><p>하지만 위의 예시는 너무 단순화되었다. 단순히 처리에만 중점을 두었기 때문에 HTTP 응답을 하는 대상 서버의 Connection Pool, JMS(자바 메시지 서비스) 요청, JDBC Connection Pool 과 같은 어플리케이션 외의 영역을 고려하지 않았다.</p><p>만약 여러 클래스에서 각각의 스레드풀, 즉 한 프로세스에서 여러 개의 스레드풀이 존재하는 경우 각자의 워크로드에 따라 이 수치가 조정될 수 있다. 이 경우엔 CPU 목표 사용량을 추가하기만 하면 된다. 이때 CPU 목표 사용량은 0에서 1사이의 값이다.</p><p>스레드 수 = 사용 가능한 코어 수 * CPU 목표 사용량 * (1+대기 시간/실제 수행시간)</p><h4 id="리틀의-법칙"><span class="mr-2"><strong>리틀의 법칙</strong></span><a href="#리틀의-법칙" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>이 장에서는 최적화된 스레드 풀의 사이즈를 구할 것이다. 우리는 이론적인 최대치와 측정할 수 있는 항목이 있다. 하지만 어떻게 병렬 worker의 수가 지연 시간과 처리량을 변경할 수 있을까?</p><p>리틀의 법칙은 이 질문에 대한 답이 될 수 있다. 이 법칙에서 시스템의 요청 수는 도착한 비율과 개별 요청을 처리하는 데 걸리는 평균 시간을 곱한 값과 같다. 이 공식을 사용하여 특정 대기 시간 수준에서 사전 정의된 처리량을 처리할 병렬 work 스레드의 수를 계산할 수 있을 것이다</p><p>L = λ * WL - 동시에 처리된 요청 수λ – 평균 도착 시간(?)W – 요청이 처리되기까지의 평균 대기 시간</p><p>이 공식을 이용하면, 우리는 시스템의 용량을 계산할 수 있다. 또는 안정적인 응답 시간이 보장되는, 1초당 발생하는 요청들을 다루기 위해 몇 개의 스레드가 동시에 동작해야 하는지 계산할 수 있다.</p><p>우리의 예로 돌아가보자. 우리는 평균 응답 시간이 55ms이며 스레드풀의 크기가 22인 서비스를 갖고 있다.</p><p>이 서비스에 대해 리틀의 법칙을 적용하면</p><p>22 / 0.055 = 400 (우리 서비스가 안정적으로 응답을 처리할 수 있는 1초당 최대 요청 수)</p><p>의 결과를 얻을 수 있다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/development/'>Development</a>, <a href='/categories/etc/'>Etc</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/thread/" class="post-tag no-text-decoration" >Thread</a> <a href="/tags/%EC%8A%A4%EB%A0%88%EB%93%9C/" class="post-tag no-text-decoration" >스레드</a> <a href="/tags/%EB%8F%99%EC%8B%9C%EC%84%B1/" class="post-tag no-text-decoration" >동시성</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5B%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%2FThread+Pool%5D+%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%EC%9D%98+%EC%A0%81%EC%A0%95+%ED%81%AC%EA%B8%B0%EB%8A%94%3F+%2F+%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%EC%9D%98+%EC%A0%81%EC%A0%88%ED%95%9C+%EC%82%AC%EC%9D%B4%EC%A6%88%EB%8A%94+-+%EC%8B%9C+%EC%93%B0%EB%8A%94+%EA%B0%9C%EB%B0%9C%EC%9E%90&url=https%3A%2F%2Fpanteoniq.github.io%2Fposts%2F%25EC%258A%25A4%25EB%25A0%2588%25EB%2593%259C%25ED%2592%2580%25EC%259D%2598_%25EC%25A0%2581%25EC%25A0%2595%25EC%2582%25AC%25EC%259D%25B4%25EC%25A6%2588%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%5B%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%2FThread+Pool%5D+%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%EC%9D%98+%EC%A0%81%EC%A0%95+%ED%81%AC%EA%B8%B0%EB%8A%94%3F+%2F+%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%EC%9D%98+%EC%A0%81%EC%A0%88%ED%95%9C+%EC%82%AC%EC%9D%B4%EC%A6%88%EB%8A%94+-+%EC%8B%9C+%EC%93%B0%EB%8A%94+%EA%B0%9C%EB%B0%9C%EC%9E%90&u=https%3A%2F%2Fpanteoniq.github.io%2Fposts%2F%25EC%258A%25A4%25EB%25A0%2588%25EB%2593%259C%25ED%2592%2580%25EC%259D%2598_%25EC%25A0%2581%25EC%25A0%2595%25EC%2582%25AC%25EC%259D%25B4%25EC%25A6%2588%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fpanteoniq.github.io%2Fposts%2F%25EC%258A%25A4%25EB%25A0%2588%25EB%2593%259C%25ED%2592%2580%25EC%259D%2598_%25EC%25A0%2581%25EC%25A0%2595%25EC%2582%25AC%25EC%259D%25B4%25EC%25A6%2588%2F&text=%5B%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%2FThread+Pool%5D+%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%EC%9D%98+%EC%A0%81%EC%A0%95+%ED%81%AC%EA%B8%B0%EB%8A%94%3F+%2F+%EC%8A%A4%EB%A0%88%EB%93%9C+%ED%92%80%EC%9D%98+%EC%A0%81%EC%A0%88%ED%95%9C+%EC%82%AC%EC%9D%B4%EC%A6%88%EB%8A%94+-+%EC%8B%9C+%EC%93%B0%EB%8A%94+%EA%B0%9C%EB%B0%9C%EC%9E%90" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80%EC%9D%98_%EC%A0%81%EC%A0%95%EC%82%AC%EC%9D%B4%EC%A6%88/">[스레드 풀/Thread Pool] 스레드 풀의 적정 크기는? / 스레드 풀의 적절한 사이즈는</a><li><a href="/posts/unix_domain_socket/">[UDS] Unix Domain Socket</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/mariadb/">MariaDB</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/socket/">Socket</a> <a class="post-tag" href="/tags/tag/">TAG</a> <a class="post-tag" href="/tags/thread/">Thread</a> <a class="post-tag" href="/tags/uds/">UDS</a> <a class="post-tag" href="/tags/%EB%8F%99%EC%8B%9C%EC%84%B1/">동시성</a> <a class="post-tag" href="/tags/%EC%8A%A4%EB%A0%88%EB%93%9C/">스레드</a></div></div></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/unix_domain_socket/"><div class="card-body"> <em class="small" data-ts="1668082045" data-df="YYYY-MM-DD" > 2022-11-10 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[UDS] Unix Domain Socket</h3><div class="text-muted small"><p> UDS? Unix Domain Socket, 짧게 줄여 UDS는 일반적으로 우리가 사용하는 TCP/UDP와는 조금 다른 개념이다. TCP/UDP는 네트워크 통신을 하는 반면 UDS는 파일시스템 내부의 파일을 이용해 통신한다. 네트워크를 사용하지 않고 어떻게 통신을 하느냐고 물을 수 있는데, 거기에 답이 있다. 다른 Host들 간 통신에는 반드시 네...</p></div></div></a></div><div class="card"> <a href="/posts/memset_bzero/"><div class="card-body"> <em class="small" data-ts="1666614004" data-df="YYYY-MM-DD" > 2022-10-24 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>memset과 bzero의 차이점</h3><div class="text-muted small"><p> 1. bzero #include void bzero(void *s, size_t n); 이름에서도 나타나듯이, zero의 값을 덮어씀 0x00의 값을 s 영역에 n 크기만큼 쓰며, 오직 0x00만의 값만 쓸 수 있다 쓰지 않기를 권장하는(deprecated된) 함수. 실제로 man bzero를 실행하면 다음 문구를 확인 가능 ...</p></div></div></a></div><div class="card"> <a href="/posts/Mariadb_10_4/"><div class="card-body"> <em class="small" data-ts="1668598733" data-df="YYYY-MM-DD" > 2022-11-16 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[MariaDB 10.4]</h3><div class="text-muted small"><p> MariaDB 10.4 이상의 변경점 MariaDB는 현재 (22년 11월 기준) 10.11까지 릴리즈된 상태이다. 이 중 MariaDB 10.4를 기점으로 몇 가지 굵직한 변화가 있었는데 이에 대해 설명하고자 한다. mysql.user가 테이블에서 뷰로 변경 테이블은 실제로 데이터가 존재하는 공간이기 때문에 Insert 및 Update가 가능하...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/memset_bzero/" class="btn btn-outline-primary" prompt="이전 글"><p>memset과 bzero의 차이점</p></a> <a href="/posts/unix_domain_socket/" class="btn btn-outline-primary" prompt="다음 글"><p>[UDS] Unix Domain Socket</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/panteoniq">Danny</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/mariadb/">MariaDB</a> <a class="post-tag" href="/tags/mysql/">MySQL</a> <a class="post-tag" href="/tags/socket/">Socket</a> <a class="post-tag" href="/tags/tag/">TAG</a> <a class="post-tag" href="/tags/thread/">Thread</a> <a class="post-tag" href="/tags/uds/">UDS</a> <a class="post-tag" href="/tags/%EB%8F%99%EC%8B%9C%EC%84%B1/">동시성</a> <a class="post-tag" href="/tags/%EC%8A%A4%EB%A0%88%EB%93%9C/">스레드</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6EJQN2NQNL"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-6EJQN2NQNL'); }); </script>
